[OK] ALL TESTS PASSED

GUI is ready to use!
Run: python blender_dataset_gui.py

(venv) D:\blender-tool>python blender_dataset_gui.py
默认配置已加载: 配置.json

(venv) D:\blender-tool>python blender_dataset_gui.py
默认配置已加载: 配置.json
Executing Blender command: D:\Program Files\Blender Foundation\Blender 4.4\blender.exe --background --python C:\Users\sua\AppData\Local\Temp\tmpfj3ho0st.py --factory-startup
Blender: Blender 4.4.3 (hash 802179c51ccc built 2025-04-29 15:39:58)
Blender: 
Blender: Blender quit

(venv) D:\blender-tool>python blender_dataset_gui.py
默认配置已加载: 配置.json
Executing Blender command: D:\Program Files\Blender Foundation\Blender 4.4\blender.exe --background --python C:\Users\sua\AppData\Local\Temp\tmp57lap9sn.py --factory-startup
Blender: Blender 4.4.3 (hash 802179c51ccc built 2025-04-29 15:39:58)
Blender: 
Blender: Blender quit
Executing Blender command: D:\Program Files\Blender Foundation\Blender 4.4\blender.exe --background --python C:\Users\sua\AppData\Local\Temp\tmp_c1hdhc4.py --factory-startup
Blender: Blender 4.4.3 (hash 802179c51ccc built 2025-04-29 15:39:58)
Blender: 
Blender: Blender quit

(venv) D:\blender-tool>python blender_dataset_gui.py
默认配置已加载: 配置.json

(venv) D:\blender-tool>python blender_dataset_gui.py
2025-09-09 11:00:47,666 - __main__ - INFO - === Blender Dataset GUI 启动 ===
2025-09-09 11:00:47,666 - __main__ - INFO - 日志文件: logs\blender_dataset_gui.log
默认配置已加载: 配置.json
2025-09-09 11:00:56,122 - __main__ - INFO - === 开始数据集生成过程 ===
2025-09-09 11:00:56,123 - __main__ - INFO - 验证输入参数...
2025-09-09 11:00:56,123 - __main__ - INFO - 开始验证输入参数...
2025-09-09 11:00:56,123 - __main__ - INFO - STL文件夹路径: D:\深度学习资料\实验记录\blender\selectmodel
2025-09-09 11:00:56,124 - __main__ - INFO - 在STL文件夹中找到 2 个STL文件
2025-09-09 11:00:56,124 - __main__ - INFO - 图案文件夹路径: D:\深度学习资料\实验记录\blender\composite_pattern      
2025-09-09 11:00:56,124 - __main__ - INFO - 在图案文件夹中找到 1 个图像文件
2025-09-09 11:00:56,125 - __main__ - INFO - 输出文件夹路径: D:\深度学习资料\实验记录\blender\output
2025-09-09 11:00:56,125 - __main__ - INFO - 输出文件夹已准备就绪: D:\深度学习资料\实验记录\blender\output
2025-09-09 11:00:56,125 - __main__ - INFO - 数值输入验证通过
2025-09-09 11:00:56,125 - __main__ - INFO - 所有输入验证通过
2025-09-09 11:00:56,125 - __main__ - INFO - 获取配置参数...
2025-09-09 11:00:56,126 - __main__ - INFO - 配置参数获取完成: {"paths": {"stl_folder": "D:\\深度学习资料\\实验记录\\blender\\selectmodel", "pattern_folder": "D:\\深度学习资料\\实验记录\\blender\\composite_pattern", "output_folder": 
"D:\\深度学习资料\\实验记录\\blender\\output", "hdri_path": ...
2025-09-09 11:00:56,126 - __main__ - INFO - 检查Blender连接...
2025-09-09 11:00:56,126 - __main__ - INFO - 启动后台生成线程...
2025-09-09 11:00:56,126 - __main__ - INFO - === 后台生成线程启动 ===
2025-09-09 11:00:56,126 - __main__ - INFO - 后台生成线程已启动
2025-09-09 11:00:56,126 - __main__ - INFO - 调用MCP集成生成数据集...
2025-09-09 11:00:56,126 - blender_mcp_integration - INFO - === 开始生成数据集 ===
2025-09-09 11:00:56,127 - blender_mcp_integration - INFO - 配置参数: {
  "paths": {
    "stl_folder": "D:\\深度学习资料\\实验记录\\blender\\selectmodel",
    "pattern_folder": "D:\\深度学习资料\\实验记录\\blender\\composite_pattern",
    "output_folder": "D:\\深度学习资料\\实验记录\\blender\\output",
    "hdri_path": "D:\\深度学习资料\\实验记录\\blender\\HDRI\\brown_photostudio_02_4k.hdr"
  },
  "camera": {
    "position": [
      -100.0,
      -300.0,
      0.0
    ],
    "rotation": [
      90.0,
      0.0,
      -17.0
    ],
    "focal_length": 50.0,
    "clip_start": 10.0,
    "clip_end": 1500.0
  },
  "projector": {
    "position": [
      100.0,
      -300.0,
      0.0
    ],
    "power": 4.5,
    "power_drift": 0.5,
    "use_discrete_power": false,
    "fov": 60.0
  },
  "render": {
    "resolution": [
      640,
      640
    ],
    "engine": "Cycles",
    "samples": 512,
    "ambient_base": 0.5,
    "ambient_variation": 0.1
  },
  "advanced": {
    "stl_max_size": 150.0,
    "rotation_angles": [
      0.0,
      45.0
    ],
    "blender_path": "D:\\Program Files\\Blender Foundation\\Blender 4.4\\blender.exe",
    "script_path": "D:\\blender-tool\\深度图数据集_v6.py"
  }
}
2025-09-09 11:00:56,128 - blender_mcp_integration - INFO - 创建临时配置文件...
2025-09-09 11:00:56,129 - blender_mcp_integration - INFO - 临时配置文件已创建: C:\Users\sua\AppData\Local\Temp\tmp0tiphkcb.json
2025-09-09 11:00:56,130 - __main__ - INFO - 进度更新: 10.0% - 正在准备Blender环境...
2025-09-09 11:00:56,130 - blender_mcp_integration - INFO - 生成Blender脚本...
2025-09-09 11:00:56,131 - blender_mcp_integration - INFO - Blender脚本生成完成 (6493 字符)
2025-09-09 11:00:56,132 - blender_mcp_integration - INFO - 生成的脚本已保存到: debug_generated_script.py
2025-09-09 11:00:56,133 - __main__ - INFO - 进度更新: 20.0% - 正在启动Blender...
2025-09-09 11:00:56,137 - blender_mcp_integration - INFO - 执行Blender脚本...
2025-09-09 11:00:56,137 - blender_mcp_integration - INFO - 开始执行Blender脚本...
2025-09-09 11:00:56,138 - blender_mcp_integration - INFO - 临时脚本文件已创建: C:\Users\sua\AppData\Local\Temp\tmp7six4tkx.py
2025-09-09 11:00:56,139 - blender_mcp_integration - INFO - 检查Blender可执行文件: D:\Program Files\Blender Foundation\Blender 4.4\blender.exe
2025-09-09 11:00:56,139 - blender_mcp_integration - INFO - Blender可执行文件检查通过
2025-09-09 11:00:56,139 - blender_mcp_integration - INFO - 执行Blender命令: D:\Program Files\Blender Foundation\Blender 4.4\blender.exe --background --python C:\Users\sua\AppData\Local\Temp\tmp7six4tkx.py --factory-startup
2025-09-09 11:00:56,140 - __main__ - INFO - 进度更新: 30.0% - 正在执行Blender脚本...
2025-09-09 11:00:56,144 - blender_mcp_integration - INFO - 启动Blender进程...
2025-09-09 11:00:56,270 - blender_mcp_integration - INFO - 开始监控Blender输出...
2025-09-09 11:00:56,706 - blender_mcp_integration - INFO - Blender输出: Blender 4.4.3 (hash 802179c51ccc built 2025-04-29 15:39:58)
Blender: Blender 4.4.3 (hash 802179c51ccc built 2025-04-29 15:39:58)
2025-09-09 11:00:56,840 - blender_mcp_integration - INFO - Blender输出: 
Blender: 
2025-09-09 11:00:56,841 - blender_mcp_integration - INFO - Blender输出: Blender quit
Blender: Blender quit
2025-09-09 11:00:56,853 - blender_mcp_integration - INFO - Blender进程返回码: 0
2025-09-09 11:00:56,853 - blender_mcp_integration - ERROR - Blender错误输出:   File "C:\Users\sua\AppData\Local\Temp\tmp7six4tkx.py", line 32
    script_dir_to_add = str(user_script_path_obj.parent).replace('\', '/')
                                                                        ^
SyntaxError: unterminated string literal (detected at line 32)

2025-09-09 11:00:56,853 - blender_mcp_integration - INFO - Blender执行完成，发现 0 个输出文件
2025-09-09 11:00:56,854 - blender_mcp_integration - INFO - 参数文件:
2025-09-09 11:00:56,854 - __main__ - INFO - 进度更新: 95.0% - 正在完成...
2025-09-09 11:00:56,855 - blender_mcp_integration - INFO - 临时脚本文件已清理
2025-09-09 11:00:56,856 - blender_mcp_integration - INFO - Blender执行结果: {'output_files': [], 'parameters_file': 
''}
2025-09-09 11:00:56,856 - blender_mcp_integration - INFO - 临时配置文件已清理
2025-09-09 11:00:56,857 - __main__ - INFO - MCP集成返回结果: success=True, message=数据集生成完成
2025-09-09 11:00:56,857 - __main__ - INFO - 数据集生成成功，更新UI状态
2025-09-09 11:00:56,859 - __main__ - INFO - 后台生成线程结束
2025-09-09 11:00:56,859 - __main__ - INFO - === 数据集生成完成 ===
2025-09-09 11:00:56,865 - __main__ - INFO - 生成完成 - 输出文件: 0 个
2025-09-09 11:00:56,865 - __main__ - INFO - 参数文件: